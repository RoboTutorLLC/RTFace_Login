language: android
dist: trusty
sudo: false
jdk:
- openjdk8
android:
  components:
  - tools
  - android-29
  - build-tools-26.0.1
  - build-tools-29.0.2
  - platform-tools
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "${TRAVIS_BUILD_DIR}/gradle/caches/"
  - "${TRAVIS_BUILD_DIR}/gradle/wrapper/dists/"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- cp -v app/src/sample_config_files/sample_keystore.properties keystore.properties
- keytool -genkeypair -dname "cn=TravisCI, ou=TravisCI, o=Sun, c=US" -alias business
  -keypass kpi135 -keystore android.keystore -storepass ab987c -validity 20000
after_success:
- bash scripts/update_apk.sh
branches:
  only:
  - master
  - development
env:
  global:
    secure: OU9k8cakNAGBfT3aTf5NHTzpbMC44GO1KS4Z4YSCO9zwVhpw5P2rR7oEYYP3Cdj6OdvfBjxPMv58IfU1Yt13VeI+SgZbfJVIMfm5X6hHAAU0RJuQ/vpFRGGMYkNKgRTle+HCSsbA7x6OT9FxNQYx+jnnoZbEFprTZg1312mn/kTKJN2ptoyjDVnK/kPJitu7gnYDtUf+MQuOvxna+wFMvHVISKDIhtN28Wb8nu6+Ucdqo29GzSKOXMRngjdkfvnEmRbPAVk926YCfm6k3KBRwO2E5Kr/amgGgSXd6ykJG1r1rh5zSl6//yqnidVcRveHRRlxoF9zhTKCnfdntikBUPc93j89BmQrvqTY0yYZGZocOthSZakFYpGG+2KM8y59SafSPQKuYQfUwqz1ptwqMejjFcaerhtnm5K/rw1doIma5DuJ/Z8cbiPk7gCb6tfalJLX945huuvyY+F3YMIV9e24rl4Xhh7e0VxMRTHSSvpN57bTX0bWlay2uzgFSiWeR2UPOmgbfummHuoJnIjxsgFiXeA6RA5X2pKmre/KRnFTed70UiVhDNvagPVjO5PuFYEB9DByS8cV6sGvxaHvyK91DxhKgHSyIUxfOyIzVRVDNvnULDAs4vcJQju7D32bM0HEQRnZ6a/G2HaXZCgu7JjzLzR3KK9d7EJUuOB9U7s=
