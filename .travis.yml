language: android
dist: trusty
sudo: false
jdk:
- openjdk8
android:
  components:
  - tools
  - android-29
  - build-tools-26.0.1
  - build-tools-29.0.2
  - platform-tools
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "${TRAVIS_BUILD_DIR}/gradle/caches/"
  - "${TRAVIS_BUILD_DIR}/gradle/wrapper/dists/"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- cp -v app/src/sample_config_files/sample_keystore.properties keystore.properties
- keytool -genkeypair -dname "cn=TravisCI, ou=TravisCI, o=Sun, c=US" -alias business
  -keypass kpi135 -keystore android.keystore -storepass ab987c -validity 20000
after_success:
- bash scripts/update_apk.sh
branches:
  only:
  - master
  - development
env:
  global:
    secure: "QSISm8pkReKoM5dpNzpfdPYnDB+nwetBiQra0VkBoqxXiWvG9abWW7S4OOuOG5owy2zTKxKIkvYgx6U+EOkX6SzpKKNsrwRKV+Oxw1gVNjLhcoOFZNG6sXVOiFhCuDXbVWmZVAvHgewabBmxzsXEbxBznX528WBSoplVdUXBTlOeNUZgPk35A7UtzVviAqcrrMgQzSuGZQe2DUboo+jyXPOf6JUd/bF2y7nVKlKVS8TE2Gg8TCAbwtw4tcHB/ZnZl1l8O660d7u0Y5LNsvGHf8Rxs0Azu+4UWJGxuvOHw7mH9zwdEybimNC1FWOz2+6oEn0D4QhdabSFNMNf78e9LMfRSTrTsvuuOPaxImuBgpd1Lbb91a4OyxWcArYnEQJOElVVaMhOlL82wkJkxMs+LMHCbGmdjx9IW52GwBRw8mA5gYRs/WBfvQzWKmjHi6cY3Iv6W72hY/hO22VHcQ4Q9OHIGuR5NePbOMDQicLRCXJ3TYye5Ci4lsFDsU8EtxjI1UIUO/qjg/fWNkyQRBofNWqSnEsIzyOtPoOF13VX4Dl/R6TWvSTBeAgKqpK3x3vDlZzfk5gROFBGSUA+PJ9RUymKsyyH4DlPNOcZpmb536qAikYDFjWGqBYtoQXM3+mHn/RyaWZYCBYPR2v383tfKY2AZGUjNbkULD85I19YJsI="
