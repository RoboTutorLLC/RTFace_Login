language: android
dist: trusty
sudo: false
jdk:
- oraclejdk8
android:
  components:
  - tools
  - android-23
  - build-tools-26.0.2
  - build-tools-29.0.2
  - platform-tools
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "${TRAVIS_BUILD_DIR}/gradle/caches/"
  - "${TRAVIS_BUILD_DIR}/gradle/wrapper/dists/"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- cp -v sample_config_files/sample_keystore.properties keystore.properties
- keytool -genkeypair -dname "cn=TravisCI, ou=TravisCI, o=Sun, c=US" -alias business
  -keypass kpi135 -keystore android.keystore -storepass ab987c -validity 20000
after_success:
- git config credential.helper "store --file=.git/credentials"
- echo "https://${GH_TOKEN}:@github.com" > .git/credentials
- bash scripts/update_apk.sh
branches:
  only:
  - master
  - development
env:
  global:
    secure: PqJfKP47epP/5FRWRx3xgOMtZC0NlOQprRvHQiVdpsnuOQK7qKCgwS4M0QPkVwQYtqwOfFANB5oWi0vIA7WRKjJwIr4eeDBBD8dzVgjry/kEaaX2G0t57qZm0YDhhoLsPGjXlp3WaoSsH6Li9roFlob62sqCwb1a712CMLEco4XC/aXFrE+0wLDsec3gIY2nqrTyTBc2T25u+On+sJA64xw8uLE5on02EpO4dMaBgrfzNDwb7uq5MbHxlvdj+dWMPQ1Hcl+kE/9Ku6TbA8RdrV3hWXpikHDG3O7y3vUv8cXb7YxnV4ymoyQYhNuMDKmFfELHUmevG50xRAxropNHnGliVsWpDh09yEyNTqtfmRaeFrteUGkk7ze5JlJehGNLoh/QqbZnDCX+d5a7MFK1SX7eZtptJ0lFmZtQwv+vT2SelnKD2qcYLcQ/RPPFUb2/m8RLOzD4MG6eSp4bun2Bqw9KrWdAOqMpn6u27LxF5LXaDhSjMSqI4bIcPT6K3bFAe7rF24Ns01LEmrr0nS9Xrz+t5nRf0KFBUUEwSduy/Zy47ZLmj28jB27WSnM2UEG+fC1mdP2OpZuIcIE519fP5sJZmZWrIWN9fjpiKymuUmqGqdrCNFxBEWeojinI4aItVths24p54oqQEqlUq4DuZPTk78nut9Nv3msWoXaNG8Y=
