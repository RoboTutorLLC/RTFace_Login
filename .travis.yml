language: android
dist: trusty
sudo: false
jdk:
- openjdk8
android:
  components:
  - tools
  - android-29
  - build-tools-26.0.1
  - build-tools-29.0.2
  - platform-tools
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "${TRAVIS_BUILD_DIR}/gradle/caches/"
  - "${TRAVIS_BUILD_DIR}/gradle/wrapper/dists/"
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- cp -v app/src/sample_config_files/sample_keystore.properties keystore.properties
- keytool -genkeypair -dname "cn=TravisCI, ou=TravisCI, o=Sun, c=US" -alias business
  -keypass kpi135 -keystore android.keystore -storepass ab987c -validity 20000
after_success:
- bash scripts/update_apk.sh
branches:
  only:
  - master
  - development
env:
  global:
    secure: "TrIWtD0z0qFb0PdfOm41ttd9uRA1txv3yISZx/BGxJjsmJd7XmOM5EWsCjcf5x8Rg4LxCkzPy1uFZe4x2ZRc2CpOVjDPqL3fCAEHaqE5Hst+Q793ZekaZCtEtf8KkX8Iv20iJK5U4xsqZgNB5SxZIyr4gPjjvhx4JzX80kvcdGUEgK55lpM6yWLA1UkGf/JUfLFFgSOegnuf7IQdOwatj2tLy1X/t+FvijtFUqCKXdjrQEJABjF9GRR4AxEwMmtlKco0Y/TXEdTvPbQEUo8rMEJ3cbnTlgfyWubKM4h4+YsLAAUDWdaQjuwm2yeZKVxv1tqOZH8xGkHdZCHbnooF3ucb2NF7Kas3onkoKmx1iUW7ioQHb9revASEJCigG0uTHafHlBN5c1/dXAc5/lnMH9Wz0I6alTv3cNxVPp4hqkxk4hdRRLZxlm1XOaYC36CzoVEbA+/D2GEOSub6G/+b4B8fLLkjST5jgwh+tqIdvowPXrs0y9vObKDv7V1XnNM6jfw0FWAanN4ZWk3AvEfxgeFtIGrDLXXk4L4W2A2K7r2P9OWlRByLLecjQaoGzBVjmi+d4suG6NIM0yXIYP3+r94PBZ8t/22JaohWA1E24HD7FMcyUivmoxF+RQ3adD3m/EnicIvChRRrLqoF9nQpDH8GRb2DBteZXjBAG30+3vw="
